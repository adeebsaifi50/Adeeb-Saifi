<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gravity Flip Survival | Adeeb Saifi</title>
<link rel="icon" type="image/png" href="logo.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {
    margin:0; font-family: Arial, sans-serif;
    display:flex; flex-direction:column; align-items:center;
    background: linear-gradient(135deg,#0f0c29,#302b63,#24243e);
    color:white; overflow:hidden;
}
.header {display:flex; align-items:center; gap:15px; margin:15px;}
.header img{width:50px;height:50px;border-radius:10px;box-shadow:0 0 10px #00ff8a;}
.header h1{margin:0;text-shadow:0 0 10px #00ff8a;}
#gameArea{
    position:relative; width:90%; max-width:500px; height:400px; background:#1e1e1e;
    border:2px solid #00ff8a; border-radius:20px; overflow:hidden; margin-bottom:10px;
}
.player{
    position:absolute; width:30px; height:30px; background:#00ff8a; left:50px; border-radius:5px;
    transition: top 0.1s linear;
}
.obstacle{
    position:absolute; width:40px; height:40px; background:red; right:0; border-radius:5px;
}
#scoreBoard, #highscore{margin:5px;font-size:1.2em;}
button{padding:10px 25px;border:none;border-radius:10px;background:#00ff8a;color:#021;font-weight:bold;cursor:pointer;transition:0.3s;}
button:hover{background:#00d278; transform:scale(1.05);}
</style>
</head>
<body>
<div class="header">
    <img src="logo.png" alt="Logo">
    <h1>Gravity Flip Survival</h1>
</div>

<div id="gameArea">
    <div id="player" class="player"></div>
</div>
<button id="startBtn">Start Game</button>
<div id="scoreBoard">Score: 0</div>
<div id="highscore">Highscore: 0</div>

<script>
const gameArea = document.getElementById('gameArea');
const player = document.getElementById('player');
const startBtn = document.getElementById('startBtn');
const scoreBoard = document.getElementById('scoreBoard');
const highscoreDisplay = document.getElementById('highscore');

let playerPos = 'bottom';
let obstacles = [];
let gameInterval, obstacleInterval, score = 0, speed = 2;
let highscore = localStorage.getItem('gravityFlipHighscore') || 0;

highscoreDisplay.textContent = 'Highscore: ' + highscore;

function flipGravity(){
    if(playerPos==='bottom'){ player.style.top='10px'; playerPos='top'; }
    else{ player.style.top=(gameArea.clientHeight-30)+'px'; playerPos='bottom'; }
}

function createObstacle(){
    const obs = document.createElement('div');
    obs.classList.add('obstacle');
    obs.style.top = Math.random() < 0.5 ? '0px' : (gameArea.clientHeight-40)+'px';
    obs.style.right = '0px';
    gameArea.appendChild(obs);
    obstacles.push(obs);
}

function startGame(){
    score = 0; speed = 2;
    scoreBoard.textContent = 'Score: '+score;
    gameArea.innerHTML=''; gameArea.appendChild(player);
    playerPos='bottom'; player.style.top=(gameArea.clientHeight-30)+'px';
    obstacles = [];
    clearInterval(gameInterval); clearInterval(obstacleInterval);

    obstacleInterval = setInterval(createObstacle, 1500);

    gameInterval = setInterval(()=>{
        for(let i=obstacles.length-1;i>=0;i--){
            const obs = obstacles[i];
            obs.style.right = parseFloat(obs.style.right)+speed+'px';
            // collision detection
            const obsTop = parseFloat(obs.style.top);
            const obsBottom = obsTop+40;
            const playerTop = parseFloat(player.style.top);
            const playerBottom = playerTop+30;
            const obsRight = gameArea.clientWidth-parseFloat(obs.style.right);
            const obsLeft = obsRight-40;
            if(!(playerBottom<obsTop || playerTop>obsBottom || 40<obsLeft || 50>obsRight)){
                clearInterval(gameInterval); clearInterval(obstacleInterval);
                if(score>highscore){ highscore=score; localStorage.setItem('gravityFlipHighscore',highscore); highscoreDisplay.textContent='Highscore: '+highscore;}
                alert('Game Over! Score: '+score);
            }
            if(obsRight>gameArea.clientWidth){ obs.remove(); obstacles.splice(i,1);}
        }
        score++; scoreBoard.textContent='Score: '+score;
        if(score%50===0) speed+=0.5; // gradually harder
    },20);
}

startBtn.addEventListener('click', startGame);
document.addEventListener('keydown', e => { if(e.code==='Space') flipGravity(); });
document.addEventListener('touchstart', flipGravity);
</script>
</body>
  </html>
